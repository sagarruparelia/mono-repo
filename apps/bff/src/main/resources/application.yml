spring:
  application:
    name: bff
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}

  # Import external config files
  config:
    import:
      - classpath:config/security-paths.yml
      - classpath:config/rate-limiting.yml
      - classpath:config/zero-trust.yml

  # MongoDB (existing)
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/bff}

  # Redis/Valkey Session
  session:
    store-type: redis
    timeout: 30m
    redis:
      namespace: bff:session

  # Redis/Valkey Connection
  data.redis:
    host: ${VALKEY_HOST:localhost}
    port: ${VALKEY_PORT:6379}
    password: ${VALKEY_PASSWORD:}
    ssl:
      enabled: ${VALKEY_SSL_ENABLED:false}

server:
  port: 8080

# Actuator
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when_authorized

# Custom application properties
app:
  session:
    timeout: 30m
    binding:
      enabled: true
      ip-address: true
      user-agent: true

  persona:
    hsid:
      claim-name: persona
      allowed:
        - individual
        - parent
      parent:
        dependents-claim: dependents
    proxy:
      allowed:
        - agent
        - config
        - case_worker

  mfe:
    proxy:
      enabled: true
      headers:
        auth-type: X-Auth-Type
        partner-id: X-Partner-Id
        member-id: X-Member-Id
        persona: X-Persona
        operator-id: X-Operator-Id
        operator-name: X-Operator-Name
        correlation-id: X-Correlation-Id
