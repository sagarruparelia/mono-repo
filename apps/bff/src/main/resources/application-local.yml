# Local Development Configuration
spring:
  # HSID OAuth2 Client (using Keycloak for local testing)
  security:
    oauth2:
      client:
        registration:
          hsid:
            client-id: bff-client
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/api/auth/callback"
            scope: openid,profile,email
            client-authentication-method: none
        provider:
          hsid:
            issuer-uri: http://localhost:8180/realms/hsid
            authorization-uri: http://localhost:8180/realms/hsid/protocol/openid-connect/auth
            token-uri: http://localhost:8180/realms/hsid/protocol/openid-connect/token
            jwk-set-uri: http://localhost:8180/realms/hsid/protocol/openid-connect/certs
            user-info-uri: http://localhost:8180/realms/hsid/protocol/openid-connect/userinfo
            user-name-attribute: sub
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8180/realms/hsid
          audiences: bff-api

  # Local MongoDB
  data:
    mongodb:
      uri: mongodb://localhost:27017/bff-local

  # Local Valkey
  data.redis:
    host: localhost
    port: 6379
    password: localdev

# Local allowed partners (for proxy testing)
app:
  mfe:
    proxy:
      allowed-partners:
        - id: local-partner
          name: Local Test Partner
          allowed-personas:
            - agent
            - config
          scopes:
            - mfe:read
          allowed-domains:
            - http://localhost:3000

logging:
  level:
    com.example.bff: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web: DEBUG
